{"version":3,"sources":["webpack:///fms/js/17.46fdbb165cb3a74e6339.js","webpack:///./src/components/balance/list.vue","webpack:///list.vue?1c67","webpack:///./src/api/api_balance.js","webpack:///./src/components/balance/list.vue?c390","webpack:///./src/components/balance/list.vue?bf8d","webpack:///./src/components/balance/list.vue?42fc"],"names":["webpackJsonp","704","module","exports","__webpack_require__","Component","857","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","n","__WEBPACK_IMPORTED_MODULE_1__api_api_balance__","data","loading","users","total","page","limit","currentPage","editFormVisible","editForm","id","score","methods","handleSizeChange","val","this","search","handleCurrentChange","handleSearch","that","params","pageNum","pageSize","findList","then","result","list","err","$message","error","showClose","message","toString","duration","catch","console","log","showEditDialog","index","row","editSubmit","_this","$refs","validate","valid","para","update","parseInt","errorCode","success","resetFields","mounted","878","__WEBPACK_IMPORTED_MODULE_0____","906","push","i","version","sources","names","mappings","file","sourceRoot","932","content","locals","956","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","separator","to","path","_v","directives","name","rawName","expression","element-loading-text","staticStyle","width","stripe","highlight-current-row","type","prop","label","sortable","scopedSlots","_u","key","fn","scope","size","on","click","$event","$index","float","layout","page-size","current-change","title","visible","close-on-click-modal","update:visible","ref","model","label-width","auto-complete","callback","$$v","$set","slot","nativeOn","staticRenderFns"],"mappings":"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","file":"fms/js/17.46fdbb165cb3a74e6339.js","sourcesContent":["webpackJsonp([17],{\n\n/***/ 704:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(932)\n\nvar Component = __webpack_require__(52)(\n  /* script */\n  __webpack_require__(857),\n  /* template */\n  __webpack_require__(956),\n  /* scopeId */\n  \"data-v-6fa4f377\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 857:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(149);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_api_balance__ = __webpack_require__(878);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      loading: false,\n      users: [],\n      total: 0,\n      page: 1,\n      limit: 10,\n      currentPage: 1,\n\n      editFormVisible: false,\n      editForm: {\n        id: 0,\n        score: ''\n      }\n    };\n  },\n\n  methods: {\n    handleSizeChange: function handleSizeChange(val) {\n      this.limit = val();\n      this.search();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.page = val;\n      this.search();\n    },\n    handleSearch: function handleSearch() {\n      this.total = 0;\n      this.page = 1;\n      this.search();\n    },\n\n    search: function search() {\n      var that = this;\n      var params = {\n        pageNum: that.page,\n        pageSize: that.limit\n      };\n\n      that.loading = true;\n      __WEBPACK_IMPORTED_MODULE_1__api_api_balance__[\"a\" /* default */].findList(params).then(function (result) {\n        that.loading = false;\n        if (result && result.data) {\n          that.total = result.data.total;\n          that.users = result.data.list;\n        }\n      }, function (err) {\n        that.loading = false;\n        that.$message.error({ showClose: true, message: err.toString(), duration: 2000 });\n      }).catch(function (error) {\n        that.loading = false;\n        console.log(error);\n        that.$message.error({ showClose: true, message: '请求出现异常', duration: 2000 });\n      });\n    },\n\n    showEditDialog: function showEditDialog(index, row) {\n      this.editFormVisible = true;\n      this.editForm = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, row);\n    },\n    editSubmit: function editSubmit() {\n      var _this = this;\n\n      var that = this;\n      this.$refs.editForm.validate(function (valid) {\n        if (valid) {\n          _this.loading = true;\n          var para = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, _this.editForm);\n          __WEBPACK_IMPORTED_MODULE_1__api_api_balance__[\"a\" /* default */].update(para.id, para).then(function (result) {\n            that.loading = false;\n            if (result && parseInt(result.errorCode) == 0) {\n              that.$message.success({ showClose: true, message: '修改成功', duration: 2000 });\n              that.$refs['editForm'].resetFields();\n              that.editFormVisible = false;\n              that.search();\n            } else {\n              that.$message.error({ showClose: true, message: '修改失败', duration: 2000 });\n            }\n          }, function (err) {\n            that.loading = false;\n            that.$message.error({ showClose: true, message: err.toString(), duration: 2000 });\n          }).catch(function (error) {\n            that.loading = false;\n            console.log(error);\n            that.$message.error({ showClose: true, message: '请求出现异常', duration: 2000 });\n          });\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.handleSearch();\n  }\n});\n\n/***/ }),\n\n/***/ 878:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0____ = __webpack_require__(276);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  findList: function findList(params) {\n    return __WEBPACK_IMPORTED_MODULE_0____[\"b\" /* GET */]('/api/v1/balance/list', params);\n  }\n});\n\n/***/ }),\n\n/***/ 906:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(700)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"list.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 932:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(906);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(701)(\"3129aee1\", content, true);\n\n/***/ }),\n\n/***/ 956:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-row', {\n    staticClass: \"warp\"\n  }, [_c('el-col', {\n    staticClass: \"warp-breadcrum\",\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-breadcrumb', {\n    attrs: {\n      \"separator\": \"/\"\n    }\n  }, [_c('el-breadcrumb-item', {\n    attrs: {\n      \"to\": {\n        path: '/'\n      }\n    }\n  }, [_c('b', [_vm._v(\"首页\")])]), _vm._v(\" \"), _c('el-breadcrumb-item', [_vm._v(\"积分管理\")]), _vm._v(\" \"), _c('el-breadcrumb-item', [_vm._v(\"积分列表\")])], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"warp-main\",\n    attrs: {\n      \"span\": 24,\n      \"element-loading-text\": \"拼命加载中\"\n    }\n  }, [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"stripe\": \"\",\n      \"data\": _vm.users,\n      \"highlight-current-row\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"width\": \"60\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"openId\",\n      \"label\": \"OpenId\",\n      \"width\": \"275\",\n      \"sortable\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"score\",\n      \"label\": \"积分\",\n      \"sortable\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"width\": \"100\",\n      \"label\": \"操作\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.showEditDialog(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"toolbar\",\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-pagination', {\n    staticStyle: {\n      \"float\": \"right\"\n    },\n    attrs: {\n      \"layout\": \"prev, pager, next\",\n      \"page-size\": _vm.limit,\n      \"total\": _vm.total\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange\n    }\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"编辑\",\n      \"visible\": _vm.editFormVisible,\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.editFormVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"editForm\",\n    attrs: {\n      \"model\": _vm.editForm,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"积分\",\n      \"prop\": \"score\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.editForm.score),\n      callback: function($$v) {\n        _vm.$set(_vm.editForm, \"score\", $$v)\n      },\n      expression: \"editForm.score\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.editFormVisible = false\n      }\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.editSubmit($event)\n      }\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// fms/js/17.46fdbb165cb3a74e6339.js","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-6fa4f377\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6fa4f377\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"),\n  /* scopeId */\n  \"data-v-6fa4f377\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/balance/list.vue\n// module id = 704\n// module chunks = 17","<template>\n  <el-row class=\"warp\">\n    <el-col :span=\"24\" class=\"warp-breadcrum\">\n      <el-breadcrumb separator=\"/\">\n        <el-breadcrumb-item :to=\"{ path: '/' }\"><b>首页</b></el-breadcrumb-item>\n        <el-breadcrumb-item>积分管理</el-breadcrumb-item>\n        <el-breadcrumb-item>积分列表</el-breadcrumb-item>\n      </el-breadcrumb>\n    </el-col>\n\n    <el-col :span=\"24\" class=\"warp-main\" v-loading=\"loading\" element-loading-text=\"拼命加载中\">\n      <!--列表-->\n      <el-table stripe :data=\"users\" highlight-current-row style=\"width: 100%;\">\n        <el-table-column type=\"index\" width=\"60\">\n        </el-table-column>\n        <el-table-column prop=\"openId\" label=\"OpenId\" width=\"275\" sortable>\n        </el-table-column>\n        <el-table-column prop=\"score\" label=\"积分\"  sortable>\n        </el-table-column>\n        <el-table-column width=\"100\" label=\"操作\" >\n          <template slot-scope=\"scope\">\n            <el-button size=\"small\"  @click=\"showEditDialog(scope.$index, scope.row)\">编辑</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!--工具条-->\n      <el-col :span=\"24\" class=\"toolbar\">\n        <el-pagination layout=\"prev, pager, next\" @current-change=\"handleCurrentChange\" :page-size=\"limit\" :total=\"total\"  style=\"float:right;\">\n        </el-pagination>\n      </el-col>\n\n      <el-dialog title=\"编辑\" :visible.sync =\"editFormVisible\" :close-on-click-modal=\"false\">\n        <el-form :model=\"editForm\" label-width=\"100px\" ref=\"editForm\">\n          <el-form-item label=\"积分\" prop=\"score\">\n            <el-input v-model=\"editForm.score\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click.native=\"editFormVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click.native=\"editSubmit\">提交</el-button>\n        </div>\n      </el-dialog>\n\n    </el-col>\n  </el-row>\n</template>\n<script>\n  import API from '../../api/api_balance';\n\n  export default {\n    data() {\n      return {\n        //过滤相关数据\n        loading: false,\n        users: [],\n        total: 0,\n        page: 1,\n        limit: 10,\n        currentPage:1 ,\n\n        //编辑相关数据\n        editFormVisible: false,//编辑界面是否显示\n        editForm: {\n          id: 0,\n          score: ''\n        }\n      }\n    },\n    methods: {\n      handleSizeChange(val){\n        this.limit = val();\n        this.search();\n      },\n      handleCurrentChange(val) {\n        this.page = val;\n        this.search();\n      },\n      handleSearch(){\n        this.total = 0;\n        this.page = 1;\n        this.search();\n      },\n      //获取用户列表\n      search: function () {\n        let that = this;\n        let params = {\n          pageNum: that.page,\n          pageSize: that.limit\n        };\n\n        that.loading = true;\n        API.findList(params).then(function (result) {\n          that.loading = false;\n          if (result && result.data) {\n            that.total = result.data.total;\n            that.users = result.data.list;\n          }\n        }, function (err) {\n          that.loading = false;\n          that.$message.error({showClose: true, message: err.toString(), duration: 2000});\n        }).catch(function (error) {\n          that.loading = false;\n          console.log(error);\n          that.$message.error({showClose: true, message: '请求出现异常', duration: 2000});\n        });\n      },\n\n      //显示编辑界面\n      showEditDialog: function (index, row) {\n        this.editFormVisible = true;\n        this.editForm = Object.assign({}, row);\n      },\n      editSubmit: function () {\n        let that = this;\n        this.$refs.editForm.validate((valid) =>{\n          if (valid) {\n            this.loading = true;\n            let para = Object.assign({}, this.editForm);\n            API.update(para.id, para).then(function (result) {\n              that.loading = false;\n              if (result && parseInt(result.errorCode) == 0) {\n                that.$message.success({showClose: true, message: '修改成功', duration: 2000});\n                that.$refs['editForm'].resetFields();\n                that.editFormVisible = false;\n                that.search();\n              } else {\n                that.$message.error({showClose: true, message: '修改失败', duration: 2000});\n              }\n            }, function (err) {\n              that.loading = false;\n              that.$message.error({showClose: true, message: err.toString(), duration: 2000});\n            }).catch(function (error) {\n              that.loading = false;\n              console.log(error);\n              that.$message.error({showClose: true, message: '请求出现异常', duration: 2000});\n            });\n          }\n        });\n      }\n    },\n    mounted() {\n      this.handleSearch()\n    }\n  }\n\n\n</script>\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// list.vue?24aa889a","/**\n * Created by jerry on 2017/11/13.\n * 图书相关api\n */\nimport * as API from './'\n\nexport default {\n\n  //查询获取book列表(通过page分页)\n  findList: params => {\n    return API.GET('/api/v1/balance/list', params)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api_balance.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"list.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-6fa4f377\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/balance/list.vue\n// module id = 906\n// module chunks = 17","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-6fa4f377\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./list.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"3129aee1\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-6fa4f377\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/balance/list.vue\n// module id = 932\n// module chunks = 17","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-row', {\n    staticClass: \"warp\"\n  }, [_c('el-col', {\n    staticClass: \"warp-breadcrum\",\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-breadcrumb', {\n    attrs: {\n      \"separator\": \"/\"\n    }\n  }, [_c('el-breadcrumb-item', {\n    attrs: {\n      \"to\": {\n        path: '/'\n      }\n    }\n  }, [_c('b', [_vm._v(\"首页\")])]), _vm._v(\" \"), _c('el-breadcrumb-item', [_vm._v(\"积分管理\")]), _vm._v(\" \"), _c('el-breadcrumb-item', [_vm._v(\"积分列表\")])], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.loading),\n      expression: \"loading\"\n    }],\n    staticClass: \"warp-main\",\n    attrs: {\n      \"span\": 24,\n      \"element-loading-text\": \"拼命加载中\"\n    }\n  }, [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"stripe\": \"\",\n      \"data\": _vm.users,\n      \"highlight-current-row\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"width\": \"60\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"openId\",\n      \"label\": \"OpenId\",\n      \"width\": \"275\",\n      \"sortable\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"score\",\n      \"label\": \"积分\",\n      \"sortable\": \"\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"width\": \"100\",\n      \"label\": \"操作\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.showEditDialog(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"编辑\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-col', {\n    staticClass: \"toolbar\",\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-pagination', {\n    staticStyle: {\n      \"float\": \"right\"\n    },\n    attrs: {\n      \"layout\": \"prev, pager, next\",\n      \"page-size\": _vm.limit,\n      \"total\": _vm.total\n    },\n    on: {\n      \"current-change\": _vm.handleCurrentChange\n    }\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"编辑\",\n      \"visible\": _vm.editFormVisible,\n      \"close-on-click-modal\": false\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.editFormVisible = $event\n      }\n    }\n  }, [_c('el-form', {\n    ref: \"editForm\",\n    attrs: {\n      \"model\": _vm.editForm,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"积分\",\n      \"prop\": \"score\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.editForm.score),\n      callback: function($$v) {\n        _vm.$set(_vm.editForm, \"score\", $$v)\n      },\n      expression: \"editForm.score\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.editFormVisible = false\n      }\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.editSubmit($event)\n      }\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6fa4f377\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/balance/list.vue\n// module id = 956\n// module chunks = 17"],"sourceRoot":""}