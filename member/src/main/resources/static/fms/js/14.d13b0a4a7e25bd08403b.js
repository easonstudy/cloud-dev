webpackJsonp([14],{720:function(e,t,o){o(928);var i=o(52)(o(873),o(952),"data-v-67e043c6",null);e.exports=i.exports},873:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(150),s=o.n(i),a=o(149),n=o.n(a),r=o(879);t.default={data:function(){return{loading:!1,rows:[],total:0,page:1,limit:10,currentPage:1,isNew:!0,editFormVisible:!1,editForm:{id:0,name:"",level:0}}},methods:{handleSearch:function(){this.search()},search:function(){var e=this,t={};e.loading=!0,r.a.findList(t).then(function(t){e.loading=!1,t&&t.data&&(e.rows=t.data)},function(t){e.loading=!1,e.$message.error({showClose:!0,message:t.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(t),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})},delRow:function(e,t){var o=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){o.loading=!0,r.a.remove(t.id).then(function(e){o.loading=!1,e&&0==parseInt(e.errorCode)&&(o.$message.success({showClose:!0,message:"删除成功",duration:1500}),o.search())},function(e){o.loading=!1,o.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){o.loading=!1,console.log(e),o.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}).catch(function(){})},showEditDialog:function(e,t){this.editFormVisible=!0,void 0==t?(this.editTitle="新增",this.isNew=!0,this.editForm={id:0,name:"",level:""}):(this.editTitle="编辑",this.isNew=!1,this.editForm=n()({},t))},editSubmit:function(){var e=this,t=this;this.$refs.editForm.validate(function(o){if(o){e.loading=!0;var i=n()({},e.editForm);console.log("submit data:"+s()(i)),r.a.update(i).then(function(e){t.loading=!1,e&&0==parseInt(e.errorCode)?(t.$message.success({showClose:!0,message:"修改成功",duration:2e3}),t.$refs.editForm.resetFields(),t.editFormVisible=!1,t.search()):t.$message.error({showClose:!0,message:"修改失败",duration:2e3})},function(e){t.loading=!1,t.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){t.loading=!1,console.log(e),t.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}})}},mounted:function(){this.handleSearch()}}},879:function(e,t,o){"use strict";var i=o(276);t.a={update:function(e){return i.a("/api/v1/userlevel/merge",e)},remove:function(e){return i.d("/api/v1/userlevel/"+e)},findList:function(e){return i.b("/api/v1/userlevel/list",e)}}},902:function(e,t,o){t=e.exports=o(700)(),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"level.vue",sourceRoot:""}])},928:function(e,t,o){var i=o(902);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);o(701)("28cefc3a",i,!0)},952:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{staticClass:"warp"},[o("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[o("b",[e._v("首页")])]),e._v(" "),o("el-breadcrumb-item",[e._v("用户管理")]),e._v(" "),o("el-breadcrumb-item",[e._v("用户等级")])],1)],1),e._v(" "),o("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"warp-main",attrs:{span:24,"element-loading-text":"拼命加载中"}},[o("div",[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.showEditDialog()}}},[e._v("新增")])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.rows,"highlight-current-row":""}},[o("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"名称",sortable:""}}),e._v(" "),o("el-table-column",{attrs:{prop:"level",label:"等级",sortable:""}}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"small"},on:{click:function(o){e.showEditDialog(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(o){e.delRow(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-dialog",{attrs:{title:e.editTitle,visible:e.editFormVisible,"before-close":e.editDiaglogClose,"close-on-click-modal":!1},on:{"update:visible":function(t){e.editFormVisible=t}}},[o("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"等级",prop:"level"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.level,callback:function(t){e.$set(e.editForm,"level",t)},expression:"editForm.level"}})],1),e._v(" "),o("el-form-item",[o("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v("提交")]),e._v(" "),e.isNew?o("el-button",{on:{click:function(t){e.resetForm("editForm")}}},[e._v("重置")]):e._e()],1)],1)],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=14.d13b0a4a7e25bd08403b.js.map