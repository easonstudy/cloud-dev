webpackJsonp([10],{703:function(e,n,o){o(934),o(935);var t=o(52)(o(856),o(958),"data-v-7c99dfb3",null);e.exports=t.exports},856:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(150),a=o.n(t),r=o(100),i=o(151),s=o(963),c=(o.n(s),o(278)),l=[];n.default={data:function(){return{loading:!1,account:{identity:"1",username:"admin",pwd:"bb123456"},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},methods:{compare:function(e,n){var o=e.name,t=n.name;return o<t?-1:o>t?1:0},menu:function(e){var n=[];e.sort(function(e,n){var o=e.level-n.level;return 0!==o?o:o=e.ordering-n.ordering}),e.forEach(function(e){if(1==e.level)null==e.redirect&&delete e.redirect,e.children=[],n.push(e);else{var o=n.find(function(n){return n.id==e.parentId});null==e.redirect&&delete e.redirect,void 0==o&&(o={path:"/",component:"Home",name:"",iconCls:"el-icon-menu",menuShow:!0,leaf:!0,children:[]},o.name=e.parentId+"_"+e.name,o.id=e.parentId,n.push(o)),o.children.push(e),console.log("p c:"+a()(o))}});var t={path:"/",component:"Home",redirect:"*",menuShow:!1,leaf:!0,children:[{path:"*",component:"404",name:"",menuShow:!1,leaf:!0}]};n.push(t),o.i(i.k)(a()(n)),o.i(c.a)(l,n)},handleLogin:function(){var e=this,n=this;this.$refs.AccountFrom.validate(function(t){if(t){e.loading=!0;var s={username:e.account.username,pwd:e.account.pwd,identity:e.account.identity};r.a.login(s).then(function(e){n.loading=!1,"0"==e.errorCode?(o.i(i.l)(a()(e.user)),o.i(i.m)(e.token),o.i(i.n)(a()(e.permissions)),n.menu(e.permissions),console.log(a()(l)),n.$router.addRoutes(l),n.$router.push({path:"/"})):"-1"==e.errorCode?n.$message.error({showClose:!0,message:e.errmsg||"用户名错误",duration:2e3}):"-2"==e.errorCode?n.$message.error({showClose:!0,message:e.errmsg||"密码错误",duration:2e3}):n.$message.error({showClose:!0,message:e.errmsg||"登录失败",duration:2e3})},function(e){n.loading=!1,n.$message.error({showClose:!0,message:e.toString(),duration:2e3})}).catch(function(e){n.loading=!1,console.log(e),n.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}})}}}},908:function(e,n,o){n=e.exports=o(700)(),n.push([e.i,"body{background:#dfe9fb}","",{version:3,sources:["C:/Users/guo/workspace/idea/cloud-dev/member-fms/src/components/Login.vue"],names:[],mappings:"AACA,KACE,kBAAoB,CACrB",file:"Login.vue",sourcesContent:["\nbody {\n  background: #DFE9FB;\n}\n"],sourceRoot:""}])},909:function(e,n,o){n=e.exports=o(700)(),n.push([e.i,".login-container[data-v-7c99dfb3]{border-radius:5px;-moz-border-radius:5px;background-clip:padding-box;margin:160px auto;width:350px;padding:35px 35px 15px;background:#fff;border:1px solid #eaeaea;box-shadow:0 0 25px #cac6c6;background:-o-linear-gradient(top,#ace,#00c1de)}.login-container .title[data-v-7c99dfb3]{margin:0 auto 40px;text-align:center;color:#505458}.login-container .remember[data-v-7c99dfb3]{margin:0 0 35px}","",{version:3,sources:["C:/Users/guo/workspace/idea/cloud-dev/member-fms/src/components/Login.vue"],names:[],mappings:"AAEA,kCAEE,kBAAmB,AACnB,uBAAwB,AACxB,4BAA6B,AAC7B,kBAAmB,AACnB,YAAa,AACb,uBAA6B,AAC7B,gBAAiB,AACjB,yBAA0B,AAC1B,4BAA6B,AAK7B,+CAAmD,CAEpD,AACD,yCACI,mBAA2B,AAC3B,kBAAmB,AACnB,aAAe,CAClB,AACD,4CACI,eAAyB,CAC5B",file:"Login.vue",sourcesContent:['\n@charset "UTF-8";\n.login-container[data-v-7c99dfb3] {\n  /*box-shadow: 0 0px 8px 0 rgba(0, 0, 0, 0.06), 0 1px 0px 0 rgba(0, 0, 0, 0.02);*/\n  border-radius: 5px;\n  -moz-border-radius: 5px;\n  background-clip: padding-box;\n  margin: 160px auto;\n  width: 350px;\n  padding: 35px 35px 15px 35px;\n  background: #fff;\n  border: 1px solid #eaeaea;\n  box-shadow: 0 0 25px #cac6c6;\n  /* IE 10 */\n  /*火狐*/\n  /*谷歌*/\n  /*Safari5.1 Chrome 10+*/\n  background: -o-linear-gradient(top, #ace, #00C1DE);\n  /*Opera 11.10+*/\n}\n.login-container .title[data-v-7c99dfb3] {\n    margin: 0px auto 40px auto;\n    text-align: center;\n    color: #505458;\n}\n.login-container .remember[data-v-7c99dfb3] {\n    margin: 0px 0px 35px 0px;\n}\n'],sourceRoot:""}])},934:function(e,n,o){var t=o(908);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);o(701)("459becf9",t,!0)},935:function(e,n,o){var t=o(909);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);o(701)("5a322c3c",t,!0)},958:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("el-form",{ref:"AccountFrom",staticClass:"demo-ruleForm login-container",attrs:{model:e.account,rules:e.rules,"label-position":"left","label-width":"0px"}},[o("h3",{staticClass:"title"},[e._v("管理员登录")]),e._v(" "),o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},on:{keyup:function(n){if(!("button"in n)&&13!==n.keyCode)return null;e.handleLogin(n)}},model:{value:e.account.username,callback:function(n){e.$set(e.account,"username",n)},expression:"account.username"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"pwd"}},[o("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},on:{keyup:function(n){if(!("button"in n)&&13!==n.keyCode)return null;e.handleLogin(n)}},model:{value:e.account.pwd,callback:function(n){e.$set(e.account,"pwd",n)},expression:"account.pwd"}})],1),e._v(" "),o("el-form-item",{staticStyle:{width:"100%"}},[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},on:{keyup:function(n){if(!("button"in n)&&13!==n.keyCode)return null;e.handleLogin(n)}},nativeOn:{click:function(n){n.preventDefault(),e.handleLogin(n)}}},[e._v("登录\n    ")])],1)],1)},staticRenderFns:[]}},963:function(e,n){e.exports={menus:[{path:"/",component:"Home",name:" 用户管理",iconCls:"el-icon-menu",menuShow:!0,leaf:!0,children:[{path:"/user/list",component:"user/list",name:"用户列表",menuShow:!0,leaf:!0}]},{path:"/",component:"Home",name:"积分管理",iconCls:"el-icon-menu",menuShow:!0,leaf:!1,children:[{path:"/balance/list",component:"balance/list",name:"积分列表",menuShow:!0,leaf:!0},{path:"/transaction/list",component:"transaction/list",name:"交易记录",menuShow:!0,leaf:!0}]},{path:"/",component:"Home",name:"系统管理",iconCls:"el-icon-setting",menuShow:!0,leaf:!1,children:[{path:"/staff/list",component:"staff/list",name:"管理员列表",menuShow:!0,leaf:!0},{path:"/staff/role",component:"staff/role",name:"角色管理",menuShow:!0,leaf:!0},{path:"/staff/permissions",component:"staff/permissions",name:"树结构",menuShow:!0,leaf:!0}]},{path:"/",component:"Home",redirect:"*",menuShow:!1,leaf:!0,children:[{path:"*",component:"404",name:"",menuShow:!1,leaf:!0}]}]}}});
//# sourceMappingURL=10.5cbb89c8b23b5a2fc18d.js.map