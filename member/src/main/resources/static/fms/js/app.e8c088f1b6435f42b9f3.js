webpackJsonp([24],{100:function(e,t,n){"use strict";var r=n(276);t.a={login:function(e){return r.a("/api/v1/login",e)},logout:function(e){return r.b("/api/v1/logout",e)},changePassword:function(e){return r.c("/api/v1/changePassword",e)},changeProfile:function(e){return r.c("/api/v1/changeProfile",e)},perfect:function(e){return r.a("/api/v1/user/perfect",e)},request:function(e){return r.a("/api/v1/user/request",e)},search:function(e){return r.b("/api/v1/user/search/"+e)},remove:function(e){return r.d("/api/v1/user/"+e)},update:function(e,t){return r.e("/api/v1/user/"+e,t)},findList:function(e){return r.b("/api/v1/user/list",e)}}},103:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(18),a=new r.default},151:function(e,t,n){"use strict";function r(e){return sessionStorage.setItem(g,e)}function a(){sessionStorage.removeItem(g)}function o(){return sessionStorage.getItem(w)}function s(e){return sessionStorage.setItem(w,e)}function i(){window.sessionStorage.removeItem(w)}function c(){return sessionStorage.getItem(b)}function l(e){return sessionStorage.setItem(b,e)}function u(){window.sessionStorage.removeItem(b)}function d(){return sessionStorage.getItem(_)}function m(e){return sessionStorage.setItem(_,e)}function f(){window.sessionStorage.removeItem(_)}function p(){return sessionStorage.getItem(C)}function v(e){return sessionStorage.setItem(C,e)}function h(){window.sessionStorage.removeItem(C)}t.m=r,t.e=a,t.b=o,t.l=s,t.d=i,t.j=c,t.n=l,t.f=u,t.a=d,t.k=m,t.g=f,t.h=p,t.i=v,t.c=h;var g="Authorization",w="access-user",b="access-user-permissions",_="routers-setting",C="routers-loaded"},160:function(e,t,n){"use strict";t.a=function(e){return function(){return n(699)("./"+e+".vue")}}},242:function(e,t,n){n(641);var r=n(52)(null,n(656),"data-v-561186a2",null);e.exports=r.exports},243:function(e,t,n){n(639);var r=n(52)(n(321),n(654),null,null);e.exports=r.exports},244:function(e,t,n){n(640);var r=n(52)(n(322),n(655),"data-v-1aec10f6",null);e.exports=r.exports},245:function(e,t,n){var r=n(52)(n(323),n(658),null,null);e.exports=r.exports},246:function(e,t,n){var r=n(52)(n(324),n(657),null,null);e.exports=r.exports},266:function(e,t,n){"use strict";t.a={title:"System manager"}},267:function(e,t,n){"use strict";t.a={title:"后台管理系统"}},268:function(e,t,n){"use strict";var r=n(18),a=n(660),o=n(244),s=n.n(o),i=n(243),c=n.n(i),l=n(151),u=n(160),d=n(278),m=n(245),f=n.n(m),p=n(246),v=n.n(p),h=n(242),g=n.n(h),w=n.i(u.a)("Login"),b=n.i(u.a)("user/perfect"),_=n.i(u.a)("user/request");r.default.use(a.a);var C=[{path:"/login",name:"登录",component:w},{path:"/user/perfect/:key",name:"完善资料",component:b,params:{key:""}},{path:"/user/request/:key",name:"申请测试",component:_,params:{key:""}},{path:"/",name:"主页",component:s.a,redirect:"/dashboard",leaf:!0,menuShow:!0,iconCls:"iconfont icon-home",children:[{path:"/dashboard",component:c.a,name:"首页",menuShow:!0,leaf:!0}]},{path:"/",component:s.a,name:"个人资料",menuShow:!1,iconCls:"el-icon-tickets",leaf:!1,children:[{path:"/user/profile",component:v.a,name:"个人信息",menuShow:!0,leaf:!0},{path:"/user/changepwd",component:f.a,name:"修改密码",menuShow:!0,leaf:!0}]},{path:"/",component:s.a,redirect:"/404",menuShow:!1,leaf:!0,children:[{path:"/404",component:g.a,name:"",menuShow:!1,leaf:!0}]}],x=new a.a({routes:C}),S=["/login","/user/perfect","/user/request"],k=n.i(l.a)();if(n.i(l.b)()&&null!=k&&void 0!=k&&"undefined"!=k){var P=[];n.i(d.a)(P,JSON.parse(k)),x.addRoutes(P),n.i(l.c)()}x.beforeEach(function(e,t,r){if(console.log("router to:"+e.path),e.path.startsWith("/login"))n.i(l.d)(),n.i(l.e)(),n.i(l.f)(),n.i(l.g)(),n.i(l.c)(),r();else{var a=0;if(S.forEach(function(t){e.path.includes(t)&&(a=!0)}),a)return void r();n.i(l.b)()?e.path?r():r({path:"/404"}):r({path:"/login"})}}),t.a=x},271:function(e,t){},272:function(e,t){},273:function(e,t){},275:function(e,t,n){n(642);var r=n(52)(n(320),n(659),null,null);e.exports=r.exports},276:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return v}),n.d(t,"c",function(){return h}),n.d(t,"f",function(){return g});var r=n(150),a=n.n(r),o=n(327),s=n.n(o),i=n(277),c=n(301),l=n.n(c),u=n(103);l.a.interceptors.request.use(function(e){return void 0!=sessionStorage.getItem("Authorization")&&(e.headers.Authorization=sessionStorage.getItem("Authorization")),e},function(e){return s.a.reject(e)}),l.a.interceptors.response.use(function(e){return e.data&&(40001===e.data.errorCode?u.a.$emit("goto","/login"):40002===e.data.errorCode&&u.a.$emit("goto","/login")),e},function(e){return s.a.reject(e)});var d=i.a.baseURL,m=(i.a.isDev,function(e,t){return l()({method:"post",url:""+d+e,headers:{"Content-type":"application/x-www-form-urlencoded"},params:t}).then(function(e){return e.data})}),f=function(e,t){return l.a.get(""+d+e,{params:t}).then(function(e){return e.data})},p=function(e,t){return l.a.put(""+d+e,t).then(function(e){return e.data})},v=function(e,t){return l.a.delete(""+d+e,{params:t}).then(function(e){return e.data})},h=function(e,t){return l()({method:"patch",url:""+d+e,headers:{"Content-type":"application/x-www-form-urlencoded"},params:t}).then(function(e){return e.data})},g=function(e,t,n){return l()({method:"POST",url:""+d+e,headers:{"Content-type":"application/json;charset=utf-8"},data:a()(t),params:n}).then(function(e){return e.data})}},277:function(e,t,n){"use strict";t.a={baseURL:"http://120.79.210.194:8083",imageServerUrl:"http://120.79.210.194",imageAuditUrl:"http://120.79.210.194/images/receipt_audit/",isDev:!0}},278:function(e,t,n){"use strict";function r(e,t){if(void 0==t)return void console.log("data is undefined.");t.forEach(function(t){var a=o()({},t);a.component=n.i(s.a)(a.component),t.leaf&&t.children&&t.children.length?(a.children=[],r(a.children,t.children)):t.leaf||(a.children=[],r(a.children,t.children)),e.push(a)})}var a=n(149),o=n.n(a),s=n(160);t.a=function(e,t){r(e,t)}},320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(368);n.n(r);t.default={data:function(){return{currentDate:new Date,chartColumn:null,chartBar:null,chartLine:null,chartPie:null}},mounted:function(){}}},322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(330),a=n.n(r),o=n(103),s=n(100),i=n(151);t.default={name:"home",data:function(){return{nickName:"",collapsed:!1,nodes:this.$router.options.routes}},created:function(){var e=this;if(o.a.$on("setNickName",function(t){e.nickName=t}),o.a.$on("goto",function(t){if("/login"===t)return n.i(i.d)(),void(window.location.href="/");e.$router.push(t)}),!n.i(i.h)()){var t,r=sessionStorage.getItem("routers-setting"),s=JSON.parse(r);(t=this.nodes).push.apply(t,a()(s)),n.i(i.i)("true")}},methods:{handleOpen:function(){},handleClose:function(){console.log("handleclose")},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{confirmButtonClass:"el-button--warning"}).then(function(){e.loading=!0,s.a.logout().then(function(t){e.loading=!1,n.i(i.d)(),window.location.href="/"},function(t){e.loading=!1,e.$message.error({showClose:!0,message:t.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(t),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}).catch(function(){})}},mounted:function(){var e=n.i(i.b)();e&&(e=JSON.parse(e),this.nickName=e.nickName||"")},components:{}}},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(100);t.default={data:function(){var e=this,t=function(t,n,r){""===n?r(new Error("请输入密码")):(""!==e.from.confirmPwd&&e.$refs.from.validateField("confirmPwd"),r())};return{form:{oldPwd:"",newPwd:"",confirmPwd:""},rules:{oldPwd:[{validator:t,trigger:"blur"}],newPwd:[{validator:t,trigger:"blur"}],confirmPwd:[{validator:function(t,n,r){""===n?r(new Error("请再次输入密码")):n!==e.form.newPwd?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("Error submit!"),!1;t.loading=!0;var n={oldPwd:t.form.oldPwd,newPwd:t.form.newPwd};r.a.changePassword(n).then(function(e){t.loading=!1,e&&0==parseInt(e.errorCode)?(t.form.oldPwd="",t.form.confirmPwd="",t.form.newPwd="",t.$message.success({showClose:!0,message:"修改成功",duration:2e3})):e&&-1==parseInt(e.errorCode)?t.$message.error({showClose:!0,message:"旧密码不匹配",duration:2e3}):t.$message.error({showClose:!0,message:"修改异常",duration:2e3})})})},resetForm:function(e){this.$refs[e].resetFields()}}}},324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(150),a=n.n(r),o=n(100),s=n(103);t.default={data:function(){return{loading:!1,form:{userName:"",nickName:"",email:""},rules:{nickName:[{required:!0,message:"请输入昵称",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur,change"}]}}},methods:{handleSaveProfile:function(){var e=this;e.$refs.form.validate(function(t){if(t){e.loading=!0;var n={nickName:e.form.nickName,email:e.form.email};o.a.changeProfile(n).then(function(t){if(e.loading=!1,t&&0==parseInt(t.errorCode)){var n=JSON.parse(window.sessionStorage.getItem("access-user"));n.nickName=e.form.nickName,n.email=e.form.email,sessionStorage.setItem("access-user",a()(n)),s.a.$emit("setNickName",e.form.nickName),e.$message.success({showClose:!0,message:"修改成功",duration:2e3})}else e.$message.error({showClose:!0,message:t.errmsg,duration:2e3})},function(t){e.loading=!1,e.$message.error({showClose:!0,message:t.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(t),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}})}},mounted:function(){var e=sessionStorage.getItem("access-user");e&&(e=JSON.parse(e),this.form.userName=e.userName,this.form.nickName=e.nickName||"",this.form.email=e.email||"")}}},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),a=n(275),o=n.n(a),s=n(274),i=n(268),c=n(269),l=n.n(c),u=n(270),d=n.n(u),m=n(148),f=n.n(m),p=n(271),v=(n.n(p),n(272)),h=(n.n(v),n(273)),g=(n.n(h),n(266)),w=n(267);r.default.use(s.a);var b=new s.a({locale:"zh",messages:{en:{enLocale:d.a,t:g.a},zh:{zhLocale:f.a,t:w.a}}});r.default.config.productionTip=!1,r.default.use(l.a),new r.default({el:"#app",i18n:b,router:i.a,template:"<App/>",components:{App:o.a}})},639:function(e,t){},640:function(e,t){},641:function(e,t){},642:function(e,t){},651:function(e,t,n){e.exports=n.p+"fms/img/forest.7ee4ced.png"},652:function(e,t,n){e.exports=n.p+"fms/img/sunrise.51b045b.png"},653:function(e,t,n){e.exports=n.p+"fms/img/sunshine.8127ccc.png"},654:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{staticClass:"warp"},[r("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[r("b",[e._v("首页")])])],1)],1),e._v(" "),r("el-col",{staticClass:"warp-main",attrs:{span:24}},[r("section",{staticClass:"chart-container"},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-card",{attrs:{"body-style":{padding:"0px"}}},[r("img",{staticClass:"image",attrs:{src:n(651)}}),e._v(" "),r("div",{staticStyle:{padding:"14px"}},[r("span",[e._v("一个例子而已")]),e._v(" "),r("div",{staticClass:"bottom clearfix"},[r("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])])])])],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-card",{attrs:{"body-style":{padding:"0px"}}},[r("img",{staticClass:"image",attrs:{src:n(652)}}),e._v(" "),r("div",{staticStyle:{padding:"14px"}},[r("span",[e._v("我是一张卡片")]),e._v(" "),r("div",{staticClass:"bottom clearfix"},[r("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])])])])],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-card",{attrs:{"body-style":{padding:"0px"}}},[r("img",{staticClass:"image",attrs:{src:n(653)}}),e._v(" "),r("div",{staticStyle:{padding:"14px"}},[r("span",[e._v("快乐生活每一天")]),e._v(" "),r("div",{staticClass:"bottom clearfix"},[r("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])])])])],1)],1)],1)])],1)},staticRenderFns:[]}},655:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"topbar-wrap",attrs:{span:24}},[n("div",{staticClass:"topbar-logo topbar-btn"}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"topbar-logos"}),e._v(" "),n("div",{staticClass:"topbar-title"},[n("span",{staticStyle:{"font-size":"18px",color:"#fff"}},[e._v(e._s(e.$t("t.title")))])]),e._v(" "),n("div",{staticClass:"topbar-account topbar-btn"},[n("el-dropdown",{attrs:{trigger:"click"}},[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[n("i",{staticClass:"iconfont icon-user"}),e._v(" "+e._s(e.nickName)+"  "),n("i",{staticClass:"iconfont icon-down"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("router-link",{attrs:{to:"/user/profile"}},[n("span",{staticStyle:{color:"#555","font-size":"14px"}},[e._v("个人信息")])])],1),e._v(" "),n("el-dropdown-item",[n("router-link",{attrs:{to:"/user/changepwd"}},[n("span",{staticStyle:{color:"#555","font-size":"14px"}},[e._v("修改密码")])])],1),e._v(" "),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)]),e._v(" "),n("el-col",{staticClass:"main",attrs:{span:24}},[n("aside",{class:{showSidebar:!e.collapsed}},[n("div",{staticClass:"menu-toggle",on:{click:function(t){t.preventDefault(),e.collapse(t)}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"iconfont icon-menufold"}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],staticClass:"iconfont icon-menuunfold"})]),e._v(" "),n("el-menu",{attrs:{"default-active":"0",router:"",collapse:e.collapsed}},[e._l(e.nodes,function(t,r){return t.menuShow?[t.leaf?t.leaf&&t.children&&t.children.length?n("el-menu-item",{class:e.$route.path==t.children[0].path?"is-active":"",attrs:{index:t.children[0].path}},[n("i",{class:t.iconCls}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.children[0].name))])]):e._e():n("el-submenu",{attrs:{index:r+""}},[n("template",{slot:"title"},[n("i",{class:t.iconCls}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t){return t.menuShow?n("el-menu-item",{key:t.path,class:e.$route.path==t.path?"is-active":"",attrs:{index:t.path}},[n("i",{class:t.iconCls}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]):e._e()})],2)]:e._e()})],2)],1),e._v(" "),n("section",{staticClass:"content-container"},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]}},656:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("p",{staticClass:"page-container"},[e._v("404 page not found")])},staticRenderFns:[]}},657:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"warp"},[n("el-col",{staticClass:"warp-breadcrum",attrs:{span:24,loading:e.loading}},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[n("b",[e._v("首页")])]),e._v(" "),n("el-breadcrumb-item",[e._v("设置")]),e._v(" "),n("el-breadcrumb-item",[e._v("个人信息")])],1)],1),e._v(" "),n("el-col",{staticClass:"warp-main",attrs:{span:24}},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"账号"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"nickName",label:"昵称"}},[n("el-input",{model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"email",label:"邮箱"}},[n("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveProfile}},[e._v("修改并保存")])],1)],1)],1)],1)},staticRenderFns:[]}},658:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"warp"},[n("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[n("b",[e._v("首页")])]),e._v(" "),n("el-breadcrumb-item",[e._v("设置")]),e._v(" "),n("el-breadcrumb-item",[e._v("修改密码")])],1)],1),e._v(" "),n("el-col",{staticClass:"warp-main",attrs:{span:24}},[n("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"原密码",prop:"oldPwd"}},[n("el-input",{attrs:{type:"password"},model:{value:e.form.oldPwd,callback:function(t){e.$set(e.form,"oldPwd",t)},expression:"form.oldPwd"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"新密码",prop:"newPwd"}},[n("el-input",{attrs:{type:"password"},model:{value:e.form.newPwd,callback:function(t){e.$set(e.form,"newPwd",t)},expression:"form.newPwd"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"确认新密码",prop:"confirmPwd"}},[n("el-input",{attrs:{type:"password"},model:{value:e.form.confirmPwd,callback:function(t){e.$set(e.form,"confirmPwd",t)},expression:"form.confirmPwd"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("提交")]),e._v(" "),n("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]}},659:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},699:function(e,t,n){function r(e){var t=a[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var a={"./404.vue":[242],"./Abstract.vue":[702,22],"./Dashboard.vue":[243],"./Home.vue":[244],"./Login.vue":[703,10],"./balance/list.vue":[704,17],"./message/list.vue":[705,7],"./report/consume.vue":[706,21],"./report/gift.vue":[707,20],"./score/audit.vue":[708,6],"./score/audit_history.vue":[709,5],"./score/exchange.vue":[710,16],"./score/gift.vue":[711,1],"./score/history.vue":[712,4],"./score/ratio.vue":[713,0],"./score/setting.vue":[714,19],"./shops/list.vue":[715,9],"./staff/list.vue":[716,2],"./staff/permissions.vue":[717,18],"./staff/role.vue":[718,15],"./transaction/list.vue":[719,3],"./user/changepwd.vue":[245],"./user/level.vue":[720,14],"./user/list.vue":[721,8],"./user/perfect.vue":[722,12],"./user/profile.vue":[246],"./user/request.vue":[723,11],"./user/ruletags.vue":[724,13]};r.keys=function(){return Object.keys(a)},e.exports=r,r.id=699}},[325]);
//# sourceMappingURL=app.e8c088f1b6435f42b9f3.js.map