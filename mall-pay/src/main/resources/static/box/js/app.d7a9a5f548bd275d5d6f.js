webpackJsonp([12],{100:function(e,t,n){"use strict";var r=n(276);t.a={login:function(e){return r.a("/api/v1/login",e)},logout:function(e){return r.b("/api/v1/logout",e)},changePassword:function(e){return r.c("/api/v1/changePassword",e)},changeProfile:function(e){return r.c("/api/v1/changeProfile",e)},perfect:function(e){return r.a("/api/v1/user/perfect",e)},request:function(e){return r.a("/api/v1/user/request",e)},search:function(e){return r.b("/api/v1/user/search/"+e)},remove:function(e){return r.d("/api/v1/user/"+e)},update:function(e,t){return r.e("/api/v1/user/"+e,t)},findList:function(e){return r.b("/api/v1/user/list",e)}}},103:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(18),o=new r.default},151:function(e,t,n){"use strict";function r(e){return sessionStorage.setItem(g,e)}function o(){sessionStorage.removeItem(g)}function a(){return sessionStorage.getItem(w)}function s(e){return sessionStorage.setItem(w,e)}function i(){window.sessionStorage.removeItem(w)}function c(){return sessionStorage.getItem(b)}function l(e){return sessionStorage.setItem(b,e)}function u(){window.sessionStorage.removeItem(b)}function d(){return sessionStorage.getItem(_)}function m(e){return sessionStorage.setItem(_,e)}function f(){window.sessionStorage.removeItem(_)}function p(){return sessionStorage.getItem(C)}function v(e){return sessionStorage.setItem(C,e)}function h(){window.sessionStorage.removeItem(C)}t.m=r,t.e=o,t.b=a,t.l=s,t.d=i,t.j=c,t.n=l,t.f=u,t.a=d,t.k=m,t.g=f,t.h=p,t.i=v,t.c=h;var g="Authorization",w="access-user",b="access-user-permissions",_="routers-setting",C="routers-loaded"},160:function(e,t,n){"use strict";t.a=function(e){return function(){return n(699)("./"+e+".vue")}}},242:function(e,t,n){n(642);var r=n(52)(null,n(659),"data-v-850f2ed8",null);e.exports=r.exports},243:function(e,t,n){n(639);var r=n(52)(n(320),n(655),null,null);e.exports=r.exports},244:function(e,t,n){n(640);var r=n(52)(n(321),n(657),"data-v-77ff53d3",null);e.exports=r.exports},245:function(e,t,n){var r=n(52)(n(322),n(654),null,null);e.exports=r.exports},246:function(e,t,n){var r=n(52)(n(323),n(656),null,null);e.exports=r.exports},266:function(e,t,n){"use strict";t.a={title:"System manager"}},267:function(e,t,n){"use strict";t.a={title:"后台管理系统"}},268:function(e,t,n){"use strict";var r=n(18),o=n(660),a=n(244),s=n.n(a),i=n(243),c=n.n(i),l=n(151),u=n(160),d=n(277),m=n(245),f=n.n(m),p=n(246),v=n.n(p),h=n(242),g=n.n(h),w=n.i(u.a)("Login");r.default.use(o.a);var b=[{path:"/login",name:"登录",component:w},{path:"/",name:"主页",component:s.a,redirect:"/dashboard",leaf:!0,menuShow:!0,iconCls:"iconfont icon-home",children:[{path:"/dashboard",component:c.a,name:"首页",menuShow:!0,leaf:!0}]},{path:"/",component:s.a,name:"个人资料",menuShow:!1,iconCls:"el-icon-tickets",leaf:!1,children:[{path:"/user/profile",component:v.a,name:"个人信息",menuShow:!0,leaf:!0},{path:"/user/changepwd",component:f.a,name:"修改密码",menuShow:!0,leaf:!0}]},{path:"/",component:s.a,redirect:"/404",menuShow:!1,leaf:!0,children:[{path:"/404",component:g.a,name:"",menuShow:!1,leaf:!0}]}],_=new o.a({routes:b}),C=["/login"],x=n.i(l.a)();if(n.i(l.b)()&&null!=x&&void 0!=x&&"undefined"!=x){var S=[];n.i(d.a)(S,JSON.parse(x)),_.addRoutes(S),n.i(l.c)()}_.beforeEach(function(e,t,r){if(console.log("router to:"+e.path),e.path.startsWith("/login"))n.i(l.d)(),n.i(l.e)(),n.i(l.f)(),n.i(l.g)(),n.i(l.c)(),r();else{var o=0;if(C.forEach(function(t){e.path.includes(t)&&(o=!0)}),o)return void r();n.i(l.b)()?e.path?r():r({path:"/404"}):r({path:"/login"})}}),t.a=_},271:function(e,t){},272:function(e,t){},273:function(e,t){},275:function(e,t,n){n(641);var r=n(52)(n(319),n(658),null,null);e.exports=r.exports},276:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return v});var r=n(149),o=(n.n(r),n(327)),a=n.n(o),s=n(324),i=n(300),c=n.n(i),l=n(103);c.a.interceptors.request.use(function(e){return void 0!=sessionStorage.getItem("Authorization")&&(e.headers.Authorization=sessionStorage.getItem("Authorization")),e},function(e){return a.a.reject(e)}),c.a.interceptors.response.use(function(e){return e.data&&(40001===e.data.errorCode?l.a.$emit("goto","/login"):40002===e.data.errorCode&&l.a.$emit("goto","/login")),e},function(e){return a.a.reject(e)});var u=s.a.baseURL,d=(s.a.isDev,function(e,t){return c()({method:"post",url:""+u+e,headers:{"Content-type":"application/x-www-form-urlencoded"},params:t}).then(function(e){return e.data})}),m=function(e,t){return c.a.get(""+u+e,{params:t}).then(function(e){return e.data})},f=function(e,t){return c.a.put(""+u+e,t).then(function(e){return e.data})},p=function(e,t){return c.a.delete(""+u+e,{params:t}).then(function(e){return e.data})},v=function(e,t){return c()({method:"patch",url:""+u+e,headers:{"Content-type":"application/x-www-form-urlencoded"},params:t}).then(function(e){return e.data})}},277:function(e,t,n){"use strict";function r(e,t){if(void 0==t)return void console.log("data is undefined.");t.forEach(function(t){var o=a()({},t);o.component=n.i(s.a)(o.component),t.leaf&&t.children&&t.children.length?(o.children=[],r(o.children,t.children)):t.leaf||(o.children=[],r(o.children,t.children)),e.push(o)})}var o=n(150),a=n.n(o),s=n(160);t.a=function(e,t){r(e,t)}},319:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(368);n.n(r);t.default={data:function(){return{currentDate:new Date,chartColumn:null,chartBar:null,chartLine:null,chartPie:null}},mounted:function(){}}},321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(330),o=n.n(r),a=n(103),s=n(100),i=n(151);t.default={name:"home",data:function(){return{nickName:"",collapsed:!1,nodes:this.$router.options.routes}},created:function(){var e=this;if(a.a.$on("setNickName",function(t){e.nickName=t}),a.a.$on("goto",function(t){if("/login"===t)return n.i(i.d)(),void(window.location.href="/");e.$router.push(t)}),!n.i(i.h)()){var t,r=sessionStorage.getItem("routers-setting"),s=JSON.parse(r);(t=this.nodes).push.apply(t,o()(s)),n.i(i.i)("true")}},methods:{handleOpen:function(){},handleClose:function(){console.log("handleclose")},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{confirmButtonClass:"el-button--warning"}).then(function(){e.loading=!0,s.a.logout().then(function(t){e.loading=!1,n.i(i.d)(),window.location.href="/"},function(t){e.loading=!1,e.$message.error({showClose:!0,message:t.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(t),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}).catch(function(){})}},mounted:function(){var e=n.i(i.b)();e&&(e=JSON.parse(e),this.nickName=e.nickName||"")},components:{}}},322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(100);t.default={data:function(){var e=this,t=function(t,n,r){""===n?r(new Error("请输入密码")):(""!==e.from.confirmPwd&&e.$refs.from.validateField("confirmPwd"),r())};return{form:{oldPwd:"",newPwd:"",confirmPwd:""},rules:{oldPwd:[{validator:t,trigger:"blur"}],newPwd:[{validator:t,trigger:"blur"}],confirmPwd:[{validator:function(t,n,r){""===n?r(new Error("请再次输入密码")):n!==e.form.newPwd?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("Error submit!"),!1;t.loading=!0;var n={oldPwd:t.form.oldPwd,newPwd:t.form.newPwd};r.a.changePassword(n).then(function(e){t.loading=!1,e&&0==parseInt(e.errorCode)?(t.form.oldPwd="",t.form.confirmPwd="",t.form.newPwd="",t.$message.success({showClose:!0,message:"修改成功",duration:2e3})):e&&-1==parseInt(e.errorCode)?t.$message.error({showClose:!0,message:"旧密码不匹配",duration:2e3}):t.$message.error({showClose:!0,message:"修改异常",duration:2e3})})})},resetForm:function(e){this.$refs[e].resetFields()}}}},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(149),o=n.n(r),a=n(100),s=n(103);t.default={data:function(){return{loading:!1,form:{userName:"",nickName:"",email:""},rules:{nickName:[{required:!0,message:"请输入昵称",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur,change"}]}}},methods:{handleSaveProfile:function(){var e=this;e.$refs.form.validate(function(t){if(t){e.loading=!0;var n={nickName:e.form.nickName,email:e.form.email};a.a.changeProfile(n).then(function(t){if(e.loading=!1,t&&0==parseInt(t.errorCode)){var n=JSON.parse(window.sessionStorage.getItem("access-user"));n.nickName=e.form.nickName,n.email=e.form.email,sessionStorage.setItem("access-user",o()(n)),s.a.$emit("setNickName",e.form.nickName),e.$message.success({showClose:!0,message:"修改成功",duration:2e3})}else e.$message.error({showClose:!0,message:t.errmsg,duration:2e3})},function(t){e.loading=!1,e.$message.error({showClose:!0,message:t.toString(),duration:2e3})}).catch(function(t){e.loading=!1,console.log(t),e.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}})}},mounted:function(){var e=sessionStorage.getItem("access-user");e&&(e=JSON.parse(e),this.form.userName=e.userName,this.form.nickName=e.nickName||"",this.form.email=e.email||"")}}},324:function(e,t,n){"use strict";t.a={baseURL:"http://111.230.136.92:8089",isDev:!0}},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(275),a=n.n(o),s=n(274),i=n(268),c=n(269),l=n.n(c),u=n(270),d=n.n(u),m=n(148),f=n.n(m),p=n(271),v=(n.n(p),n(272)),h=(n.n(v),n(273)),g=(n.n(h),n(266)),w=n(267);r.default.use(s.a);var b=new s.a({locale:"zh",messages:{en:{enLocale:d.a,t:g.a},zh:{zhLocale:f.a,t:w.a}}});r.default.config.productionTip=!1,r.default.use(l.a),new r.default({el:"#app",i18n:b,router:i.a,template:"<App/>",components:{App:a.a}})},639:function(e,t){},640:function(e,t){},641:function(e,t){},642:function(e,t){},651:function(e,t,n){e.exports=n.p+"box/img/forest.7ee4ced.png"},652:function(e,t,n){e.exports=n.p+"box/img/sunrise.51b045b.png"},653:function(e,t,n){e.exports=n.p+"box/img/sunshine.8127ccc.png"},654:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"warp"},[n("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[n("b",[e._v("首页")])]),e._v(" "),n("el-breadcrumb-item",[e._v("设置")]),e._v(" "),n("el-breadcrumb-item",[e._v("修改密码")])],1)],1),e._v(" "),n("el-col",{staticClass:"warp-main",attrs:{span:24}},[n("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"原密码",prop:"oldPwd"}},[n("el-input",{attrs:{type:"password"},model:{value:e.form.oldPwd,callback:function(t){e.$set(e.form,"oldPwd",t)},expression:"form.oldPwd"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"新密码",prop:"newPwd"}},[n("el-input",{attrs:{type:"password"},model:{value:e.form.newPwd,callback:function(t){e.$set(e.form,"newPwd",t)},expression:"form.newPwd"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"确认新密码",prop:"confirmPwd"}},[n("el-input",{attrs:{type:"password"},model:{value:e.form.confirmPwd,callback:function(t){e.$set(e.form,"confirmPwd",t)},expression:"form.confirmPwd"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("提交")]),e._v(" "),n("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]}},655:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",{staticClass:"warp"},[r("el-col",{staticClass:"warp-breadcrum",attrs:{span:24}},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[r("b",[e._v("首页")])])],1)],1),e._v(" "),r("el-col",{staticClass:"warp-main",attrs:{span:24}},[r("section",{staticClass:"chart-container"},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-card",{attrs:{"body-style":{padding:"0px"}}},[r("img",{staticClass:"image",attrs:{src:n(651)}}),e._v(" "),r("div",{staticStyle:{padding:"14px"}},[r("span",[e._v("一个例子而已")]),e._v(" "),r("div",{staticClass:"bottom clearfix"},[r("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])])])])],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-card",{attrs:{"body-style":{padding:"0px"}}},[r("img",{staticClass:"image",attrs:{src:n(652)}}),e._v(" "),r("div",{staticStyle:{padding:"14px"}},[r("span",[e._v("我是一张卡片")]),e._v(" "),r("div",{staticClass:"bottom clearfix"},[r("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])])])])],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-card",{attrs:{"body-style":{padding:"0px"}}},[r("img",{staticClass:"image",attrs:{src:n(653)}}),e._v(" "),r("div",{staticStyle:{padding:"14px"}},[r("span",[e._v("快乐生活每一天")]),e._v(" "),r("div",{staticClass:"bottom clearfix"},[r("time",{staticClass:"time"},[e._v(e._s(e.currentDate))])])])])],1)],1)],1)])],1)},staticRenderFns:[]}},656:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"warp"},[n("el-col",{staticClass:"warp-breadcrum",attrs:{span:24,loading:e.loading}},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[n("b",[e._v("首页")])]),e._v(" "),n("el-breadcrumb-item",[e._v("设置")]),e._v(" "),n("el-breadcrumb-item",[e._v("个人信息")])],1)],1),e._v(" "),n("el-col",{staticClass:"warp-main",attrs:{span:24}},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"账号"}},[n("el-input",{attrs:{disabled:""},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"nickName",label:"昵称"}},[n("el-input",{model:{value:e.form.nickName,callback:function(t){e.$set(e.form,"nickName",t)},expression:"form.nickName"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"email",label:"邮箱"}},[n("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.handleSaveProfile}},[e._v("修改并保存")])],1)],1)],1)],1)},staticRenderFns:[]}},657:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"topbar-wrap",attrs:{span:24}},[n("div",{staticClass:"topbar-logo topbar-btn"}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"topbar-logos"}),e._v(" "),n("div",{staticClass:"topbar-title"},[n("span",{staticStyle:{"font-size":"18px",color:"#fff"}},[e._v(e._s(e.$t("t.title")))])]),e._v(" "),n("div",{staticClass:"topbar-account topbar-btn"},[n("el-dropdown",{attrs:{trigger:"click"}},[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[n("i",{staticClass:"iconfont icon-user"}),e._v(" "+e._s(e.nickName)+"  "),n("i",{staticClass:"iconfont icon-down"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("router-link",{attrs:{to:"/user/profile"}},[n("span",{staticStyle:{color:"#555","font-size":"14px"}},[e._v("个人信息")])])],1),e._v(" "),n("el-dropdown-item",[n("router-link",{attrs:{to:"/user/changepwd"}},[n("span",{staticStyle:{color:"#555","font-size":"14px"}},[e._v("修改密码")])])],1),e._v(" "),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)]),e._v(" "),n("el-col",{staticClass:"main",attrs:{span:24}},[n("aside",{class:{showSidebar:!e.collapsed}},[n("div",{staticClass:"menu-toggle",on:{click:function(t){t.preventDefault(),e.collapse(t)}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"iconfont icon-menufold"}),e._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],staticClass:"iconfont icon-menuunfold"})]),e._v(" "),n("el-menu",{attrs:{"default-active":"0",router:"",collapse:e.collapsed}},[e._l(e.nodes,function(t,r){return t.menuShow?[t.leaf?t.leaf&&t.children&&t.children.length?n("el-menu-item",{class:e.$route.path==t.children[0].path?"is-active":"",attrs:{index:t.children[0].path}},[n("i",{class:t.iconCls}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.children[0].name))])]):e._e():n("el-submenu",{attrs:{index:r+""}},[n("template",{slot:"title"},[n("i",{class:t.iconCls}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t){return t.menuShow?n("el-menu-item",{key:t.path,class:e.$route.path==t.path?"is-active":"",attrs:{index:t.path}},[n("i",{class:t.iconCls}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]):e._e()})],2)]:e._e()})],2)],1),e._v(" "),n("section",{staticClass:"content-container"},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]}},658:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},659:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("p",{staticClass:"page-container"},[e._v("404 page not found")])},staticRenderFns:[]}},699:function(e,t,n){function r(e){var t=o[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var o={"./404.vue":[242],"./Abstract.vue":[702,10],"./Dashboard.vue":[243],"./Home.vue":[244],"./Login.vue":[703,6],"./report/consume.vue":[704,9],"./shops/barcode.vue":[705,1],"./shops/device.vue":[706,0],"./shops/list.vue":[707,2],"./staff/list.vue":[708,3],"./staff/permissions.vue":[709,8],"./staff/role.vue":[710,7],"./transaction/list.vue":[711,4],"./user/changepwd.vue":[245],"./user/list.vue":[712,5],"./user/profile.vue":[246]};r.keys=function(){return Object.keys(o)},e.exports=r,r.id=699}},[325]);
//# sourceMappingURL=app.d7a9a5f548bd275d5d6f.js.map